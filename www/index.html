<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebCPU</title>
    <script type="text/javascript" src="webcpu.browser.js"></script>
</head>
<body>
<script>
    async function main() {
        document.body.innerText = 'Detecting CPU...\n';
        const start = performance.now();
        const result = await webcpu.WebCPU.detectCPU();
        const end = performance.now();
        document.body.innerText = 'Detected CPU\n';
        document.body.innerText += `Took ${Math.round(end - start)}ms\n`;
        document.body.innerText += `Reported Cores: ${result.reportedCores}\n`;
        document.body.innerText += `Estimated Idle Cores: ${result.estimatedIdleCores}\n`;
        document.body.innerText += `Estimated Physical Cores: ${result.estimatedPhysicalCores}\n`;
    }

    document.addEventListener('DOMContentLoaded', main);
</script>
</body>
</html>
